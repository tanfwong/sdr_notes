

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>6.1. TX Pulse Shaping &#8212; Digital Communications with SDRs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ch6/generate';</script>
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6.2. RX Signal Capture" href="capture.html" />
    <link rel="prev" title="6. Signal Generation and Capture" href="signal.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Digital Communications with Software Defined Radios
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ch1/introduction.html">1. Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch2/prelims.html">2. Some Programming Prelims</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch2/uhd.html">2.1. UHD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch2/multithread.html">2.2. Elementary Multi-threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch2/prelims_exs.html">2.3. References and further reading</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch3/filter.html">3. Multi-rate Filtering</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch3/fftw3.html">3.1. FFTW3 Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch3/overlapsave.html">3.2. Overlap Save Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch3/multirate.html">3.3. Multi-rate Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch3/polyphase.html">3.4. Polyphase Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch3/filter_exs.html">3.5. References and further reading</a></li>

</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ch4/part15.html">4. Digest of FCC Regulations Part 15</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch5/usrp.html">5. USRP Tuning and Calibration</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch5/tuning.html">5.1. Frequency Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch5/iq.html">5.2. DC Offset and IQ Imbalance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch5/usrp_refs.html">5.3. References and further reading</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="signal.html">6. Signal Generation and Capture</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">6.1. TX Pulse Shaping</a></li>
<li class="toctree-l2"><a class="reference internal" href="capture.html">6.2. RX Signal Capture</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal_refs.html">6.3. References and further reading</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch7/sync.html">7. Signal Acquisition and Synchronization</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch7/dll.html">7.1. Closed-Loop Symbol Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch7/acq.html">7.2. Signal Acquisition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch7/signature.html">7.3. Signature Signal Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch7/mseq.html">7.4. Maximal-length Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch7/zc.html">7.5. Zadoffâ€“Chu Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch7/sync_refs.html">7.6. References and further reading</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch8/noncoh.html">8. Non-coherent Demodulation</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch8/mlnoncoh.html">8.1. Maximum Likelihood Non-coherent Demodulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch8/ask.html">8.2. <span class="math notranslate nohighlight">\(M\)</span>-ary Amplitude Shift Keying (<span class="math notranslate nohighlight">\(M\)</span>-ASK)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch8/dpsk.html">8.3. <span class="math notranslate nohighlight">\(M\)</span>-ary Differential Phase Shift Keying (<span class="math notranslate nohighlight">\(M\)</span>-DPSK)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch8/noncoh_usrp.html">8.4. USRP Implementation</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch9/carrier.html">9. Carrier Synchronization</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch9/mlest.html">9.1. Basic Model</a></li>

<li class="toctree-l2"><a class="reference internal" href="../ch9/dd_pll.html">9.3. Decision-directed Phase-locked Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch9/ndd_pll.html">9.4. Non-decision-directed Phase-locked Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch9/carrier_refs.html">9.5. References and further reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ch10/coh.html">10. Coherent Demodulation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch11/arq.html">11. Automatic Repeat Request</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch11/crc.html">11.1. Cyclic Redundancy Check Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch11/protocols.html">11.2. Simple ARQ Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch11/duplex.html">11.3. Duplex Transmission using USRPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch11/arq_exs.html">11.4. References and further reading</a></li>

</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/tanfwong/sdr_notes" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/tanfwong/sdr_notes/issues/new?title=Issue%20on%20page%20%2Fch6/generate.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/ch6/generate.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>TX Pulse Shaping</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#power-spectral-density-of-digitally-modulated-signal">6.1.1. Power spectral density of digitally modulated signal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-modulation-and-pulse-shaping">6.1.2. Linear modulation and Pulse shaping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#root-raised-cosine-pulse">6.1.3. Root raised cosine pulse</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usrp-implementation">6.1.4. USRP implementation</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tx-pulse-shaping">
<span id="sec-txpulse"></span><h1><span class="section-number">6.1. </span>TX Pulse Shaping<a class="headerlink" href="#tx-pulse-shaping" title="Permalink to this headline">#</a></h1>
<section id="power-spectral-density-of-digitally-modulated-signal">
<h2><span class="section-number">6.1.1. </span>Power spectral density of digitally modulated signal<a class="headerlink" href="#power-spectral-density-of-digitally-modulated-signal" title="Permalink to this headline">#</a></h2>
<ul>
<li><p>To see how we may control the spectral shape of the TX signal, we
need to first obtain the power spectral density (PSD) of a digitally
modulated signal. We will work in the complex baseband here
throughout.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(b[n]\)</span> be a stationary sequence of random data symbols that we
wish to transmit. Let <span class="math notranslate nohighlight">\(T\)</span> be the symbol period. For a symbol period,
we transmit one signal from the finite collection <span class="math notranslate nohighlight">\(\{s_0(t), s_1(t), \ldots,
s_{M-1}(t)\}\)</span> to convey one symbol worth of data. We usually call the
vector-space representation of the collection of signals, or just
the collection itself, the <strong>signal constellation</strong>. The choice
of which signal to send is determined by the whole symbol
sequence <span class="math notranslate nohighlight">\(b[n]\)</span> in general. For the <span class="math notranslate nohighlight">\(n\)</span>th symbol period, denote the
signal transmitted by <span class="math notranslate nohighlight">\(s(t-nT;n)\)</span>, where the delay <span class="math notranslate nohighlight">\(nT\)</span> accounts for
transmission time of this signal and the second argument <span class="math notranslate nohighlight">\(n\)</span> should be
interpreted as the signal choice from the constellation as discussed
for this <span class="math notranslate nohighlight">\(n\)</span>th symbol period.</p></li>
<li><p>The TX signal is then</p>
<div class="math notranslate nohighlight" id="equation-e-txsignal">
<span class="eqno">(6.1)<a class="headerlink" href="#equation-e-txsignal" title="Permalink to this equation">#</a></span>\[\begin{equation}
x(t) = \sum_{n = -\infty}^{\infty} s(t-nT; n). 
\end{equation}\]</div>
</li>
<li><p>The autocorrelation function of <span class="math notranslate nohighlight">\(x(t)\)</span> is <span class="math notranslate nohighlight">\(R_{x}(t+\tau,t)
\triangleq E[x(t+\tau)x^*(t)]\)</span>, which is clearly periodic (with
period <span class="math notranslate nohighlight">\(T\)</span>) in <span class="math notranslate nohighlight">\(t\)</span>. Hence, <span class="math notranslate nohighlight">\(x(t)\)</span> is a wide-sense cyclostationary
process.</p></li>
<li><p>Consider an observer located at some random location from the TX
(not too far away so that the path loss is minimal). The TX signal
observed by this observer can then be modeled as <span class="math notranslate nohighlight">\(x(t-T_d)\)</span>, where
<span class="math notranslate nohighlight">\(T_d\)</span> is a random delay uniformly distributed over the interval
<span class="math notranslate nohighlight">\([0,T]\)</span>, independent of <span class="math notranslate nohighlight">\(x[n]\)</span>. It can be readily shown (see <span id="id1">[<a class="reference internal" href="../ch9/carrier_refs.html#id12" title="J. G. Proakis and M. Salehi. Digital Communications. McGraw-Hill, 5th edition, 2008. ISBN 978-0-07-295716-7.">1</a>]</span>
Section 3.4 and <span id="id2">[<a class="reference internal" href="signal_refs.html#id13" title="Madhow U. Fundamentals of Digital Communication. Cambridge University Press, 2008. ISBN 978-0-521-87414-4.">2</a>]</span> Section 2.3) <span class="math notranslate nohighlight">\(x(t-T_d)\)</span> is a wide-sense
stationary process whose autocorrelation function</p>
<div class="math notranslate nohighlight" id="equation-e-rx">
<span class="eqno">(6.2)<a class="headerlink" href="#equation-e-rx" title="Permalink to this equation">#</a></span>\[\begin{equation}
\label{} \bar R_x(\tau) = \frac{1}{T} \int_0^T R_x(t+\tau,t) dt =
\frac{1}{T} \sum_{n=-\infty}^{\infty} g_k(\tau -nT),
\end{equation}\]</div>
<p>where</p>
<div class="math notranslate nohighlight" id="equation-e-gk">
<span class="eqno">(6.3)<a class="headerlink" href="#equation-e-gk" title="Permalink to this equation">#</a></span>\[\begin{equation}
g_k(\tau) = \int_{-\infty}^{\infty} E[ s(t+\tau;k) s^*(t;0) ] dt.
\end{equation}\]</div>
</li>
<li><p>The PSD of <span class="math notranslate nohighlight">\(x(t)\)</span> will be defined as the PSD of <span class="math notranslate nohighlight">\(x(t-T_d)\)</span>, both
denoted by <span class="math notranslate nohighlight">\(S_x(f)\)</span> which is the Fourier transform (FT) of <span class="math notranslate nohighlight">\(\bar
R_x(\tau)\)</span>. This definition of PSD for the TX signal <span class="math notranslate nohighlight">\(x(t)\)</span> makes
physical sense since its spectrum is measured by some instrument
located at some distance away from the TX.</p></li>
<li><p>Let the FT of <span class="math notranslate nohighlight">\(g_k(\tau)\)</span> be <span class="math notranslate nohighlight">\(G_k(f)\)</span>. Then</p>
<div class="math notranslate nohighlight" id="equation-e-sx">
<span class="eqno">(6.4)<a class="headerlink" href="#equation-e-sx" title="Permalink to this equation">#</a></span>\[\begin{equation}
S_x(f) = \frac{1}{T} \sum_{k=-\infty}^{\infty} G_k(f) e^{-j2\pi k T}.
\end{equation}\]</div>
</li>
<li><p>Note that the same development can be redone by deterministic
time-averaging with the PSD of <span class="math notranslate nohighlight">\(x(t)\)</span> defined as <span class="math notranslate nohighlight">\(\lim_{D\rightarrow
\infty} \frac{\left| X_D(f) \right|^2}{D}\)</span>, where <span class="math notranslate nohighlight">\(X_D(f)\)</span> is the FT
of <span class="math notranslate nohighlight">\(x_D(t) \triangleq \begin{cases} x(t) &amp; \text{if } -\frac{D}{2}
\leq t \leq \frac{D}{2} \\ 0 &amp; \text{otherwise} \end{cases}\)</span>. The
PSD defined this way will still have the same
expression in <a class="reference internal" href="#equation-e-sx">(6.4)</a> (see <span id="id3">[<a class="reference internal" href="signal_refs.html#id13" title="Madhow U. Fundamentals of Digital Communication. Cambridge University Press, 2008. ISBN 978-0-521-87414-4.">2</a>]</span> Section 2.3 for details).
This deterministic definition provides us a measurement-based physical
meaning for the PSD of <span class="math notranslate nohighlight">\(x(t)\)</span>.</p></li>
</ul>
</section>
<section id="linear-modulation-and-pulse-shaping">
<h2><span class="section-number">6.1.2. </span>Linear modulation and Pulse shaping<a class="headerlink" href="#linear-modulation-and-pulse-shaping" title="Permalink to this headline">#</a></h2>
<ul>
<li><p>For a <em>linear modulation</em>, <span class="math notranslate nohighlight">\(s(t;n) = b[n] p(t)\)</span>, where <span class="math notranslate nohighlight">\(p(t)\)</span> is
called the <strong>TX pulse shape</strong>. Thus, the set of possible symbol values
is  the constellation. From <a class="reference internal" href="#equation-e-gk">(6.3)</a>,</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
  g_k(\tau) = R_b[k] \int_{-\infty}^{\infty} p(t+\tau)p^*(t)dt
  \end{equation*}\]</div>
<p>and <span class="math notranslate nohighlight">\(G_k(f) = R_b[k] \left|P(f)\right|^2\)</span>, where
<span class="math notranslate nohighlight">\(R_b[k] \triangleq E[b[k]b^*[0]]\)</span> and <span class="math notranslate nohighlight">\(P(f)\)</span> is the FT of the TX
pulse shape <span class="math notranslate nohighlight">\(p(t)\)</span>. Furthermore, using <a class="reference internal" href="#equation-e-sx">(6.4)</a>, we have</p>
<div class="math notranslate nohighlight" id="equation-e-sx-lin">
<span class="eqno">(6.5)<a class="headerlink" href="#equation-e-sx-lin" title="Permalink to this equation">#</a></span>\[\begin{equation} 
S_x(f) = \left|P(f)\right|^2 \frac{S_b \left( e^{j2\pi fT} \right)}{T}
\end{equation} \]</div>
<p>where</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
  S_b\left( e^{j2 \pi \hat f} \right) =
  \sum_{k=-\infty}^{\infty} R_b[k] e^{-j2\pi k \hat f}
  \end{equation*}\]</div>
<p>is the discrete-time Fourier transform (DTFT) of <span class="math notranslate nohighlight">\(R_b[k]\)</span>. The quantity
<span class="math notranslate nohighlight">\(\frac{S_b \left( e^{j2\pi fT} \right)}{T}\)</span> can be interpreted as the
PSD of the data symbol sequence <span class="math notranslate nohighlight">\(b[n]\)</span>.</p>
</li>
<li><p>For BPSK, <span class="math notranslate nohighlight">\(b[n]\)</span> are i.i.d. symbols selected from <span class="math notranslate nohighlight">\(\{-1,+1\}\)</span> with
equal probabilities. For DBPSK, <span class="math notranslate nohighlight">\(b[n] = a[n] b[n-1]\)</span>, where <span class="math notranslate nohighlight">\(a[n]\)</span>
are i.i.d. symbols selected from <span class="math notranslate nohighlight">\(\{-1,+1\}\)</span> with equal probabilities.
For these two binary (linear) modulations, <span class="math notranslate nohighlight">\(R_b[k] = \delta[n]\)</span> and
<span class="math notranslate nohighlight">\(S_b\left( e^{j2 \pi \hat f} \right) = 1\)</span>. Therefore, the TX PSD is</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
  S_x(f) = \frac{1}{T} \left|P(f)\right|^2.
  \end{equation*}\]</div>
<p>The same PSD formula, within a scaling factor, applies to
MPSK, DMPSK, and MQAM modulations as well.</p>
</li>
<li><p>For OOK (2-ASK), <span class="math notranslate nohighlight">\(b[n]\)</span> are i.i.d. symbols selected from <span class="math notranslate nohighlight">\(\{0,1\}\)</span>
with equal probabilities. So <span class="math notranslate nohighlight">\(R_b[k] = \frac{1}{4} + \frac{1}{4}
\delta[n]\)</span> and</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
  S_b\left( e^{j2 \pi \hat f} \right) = \frac{1}{4} +
  \frac{1}{4} \sum_{k=-\infty}^{\infty} \delta( \hat f - k).
  \end{equation*}\]</div>
<p>Therefore, the TX PSD is</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{equation*}
  S_x(f) = \frac{1}{4T} \left|P(f)\right|^2 +
  \frac{1}{4T} \left|P(f)\right|^2 \sum_{k=-\infty}^{\infty} \delta
  \left( f - \frac{k}{T} \right).
  \end{equation*}\]</div>
<p>Note that the PSD of OOK contains spectral lines.</p>
</li>
<li><p>For the calculation of the PSDs of more complicated linear
modulations, see <span id="id4">[<a class="reference internal" href="../ch9/carrier_refs.html#id12" title="J. G. Proakis and M. Salehi. Digital Communications. McGraw-Hill, 5th edition, 2008. ISBN 978-0-07-295716-7.">1</a>]</span> Section 3.4.</p></li>
<li><p>In general, we see from the simple examples above or from <a class="reference internal" href="#equation-e-sx-lin">(6.5)</a>
that the FT of the TX pulse shape <span class="math notranslate nohighlight">\(p(t)\)</span> controls the spectral shape of any
linearly modulated TX signal.</p></li>
<li><p>It is also easy to see that for any linear modulation, the TX signal
equation in <a class="reference internal" href="#equation-e-txsignal">(6.1)</a> simplifies to</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*} 
  x(t) &amp;= \sum_{n=-\infty}^{\infty} b[n] p(t-nT) \\
  &amp; =
  \left[ \sum_{n=-\infty}^{\infty} b[n] \delta(t-nT) \right] * p(t). 
  \end{align*}\]</div>
<p>Hence, we can generate the TX signal <span class="math notranslate nohighlight">\(x(t)\)</span> by first modulating an
impulse train of period <span class="math notranslate nohighlight">\(T\)</span> with the symbol sequence <span class="math notranslate nohighlight">\(b[n]\)</span> and then
passing the symbol-modulated impulse train through a filter whose
impulse response is the pulse shape <span class="math notranslate nohighlight">\(p(t)\)</span>. This method of generating the
linearly modulated signal is called <strong>pulse shaping</strong>.</p>
</li>
</ul>
</section>
<section id="root-raised-cosine-pulse">
<h2><span class="section-number">6.1.3. </span>Root raised cosine pulse<a class="headerlink" href="#root-raised-cosine-pulse" title="Permalink to this headline">#</a></h2>
<ul>
<li><p>A popular choice of pulse shape that allows us to easily tune the
spectral shape is the <strong>root raised cosine (RRC) pulse</strong>
defined by the expression below:</p>
<div class="math notranslate nohighlight" id="equation-e-rrc">
<span class="eqno">(6.6)<a class="headerlink" href="#equation-e-rrc" title="Permalink to this equation">#</a></span>\[\begin{equation} 
p_{RRC}(t) = \frac{\sin \frac{\pi (1-\beta) t}{T} + \frac{4\beta t}{T} \cos \frac{\pi
(1+\beta) t}{T}}{ \frac{\pi t}{T}
\left[ 1 - \left(\frac{4\beta t}{T} \right)^2 \right] } 
\end{equation}\]</div>
<p>where the parameter <span class="math notranslate nohighlight">\(0 \leq \beta \leq 1\)</span> is called the <strong>excess
bandwidth</strong> or <strong>roll-off factor</strong>. The FT of the RRC pulse is the
RRC spectrum given by</p>
<div class="math notranslate nohighlight" id="equation-e-rrc-ft">
<span class="eqno">(6.7)<a class="headerlink" href="#equation-e-rrc-ft" title="Permalink to this equation">#</a></span>\[\begin{split}\begin{equation} 
P_{RRC}(f) =
\begin{cases} \sqrt{T} &amp; \text{for } |f| \leq \frac{1-\beta}{2T} \\
\sqrt{\frac{T}{2} \left\{ 1 - \sin
\left[\frac{\pi T}{\beta} \left( |f| - \frac{1}{2T} \right) \right]
\right\} } &amp; \text{for } \frac{1-\beta}{2T} &lt; |f| \leq
\frac{1+\beta}{2T} \\ 0 &amp; \text{for } |f| &gt; \frac{1+\beta}{2T}.
\end{cases} 
\end{equation}\end{split}\]</div>
</li>
<li><p>We see from <a class="reference internal" href="#equation-e-rrc-ft">(6.7)</a> that the FT of the RRC pulse
has a passband from <span class="math notranslate nohighlight">\(-\frac{1+\beta}{2T}\)</span> to <span class="math notranslate nohighlight">\(\frac{1+\beta}{2T}\)</span> Hz.
The band edge becomes steeper as <span class="math notranslate nohighlight">\(\beta\)</span> gets closer to <span class="math notranslate nohighlight">\(0\)</span>, at which
the FT becomes that of an ideal LPF. The support of the RRC pulse is
infinite, but its signal magnitude has a <span class="math notranslate nohighlight">\(\frac{1}{t^2}\)</span> decay (except
when <span class="math notranslate nohighlight">\(\beta=0\)</span>). In general, the closer <span class="math notranslate nohighlight">\(\beta\)</span> is to <span class="math notranslate nohighlight">\(0\)</span>, the longer
is the essential support of the RRC pulse.</p></li>
</ul>
</section>
<section id="usrp-implementation">
<h2><span class="section-number">6.1.4. </span>USRP implementation<a class="headerlink" href="#usrp-implementation" title="Permalink to this headline">#</a></h2>
<ul>
<li><p>Typically, pulse shaping is implemented in discrete-time in the host
computer using a multi-rate filter. The filter output samples are then
sent to the USRP for transmission.</p></li>
<li><p>The input to the multi-rate filter should be the symbol sequence
<span class="math notranslate nohighlight">\(b[n]\)</span> at the symbol rate <span class="math notranslate nohighlight">\(\frac{1}{T}\)</span>, while the output contains the
signal samples to be sent to the USRP at the TX sampling rate.</p></li>
<li><p>The impulse response of the multi-rate filter (in the upsampled
domain) is <span class="math notranslate nohighlight">\(h[n] = p\left( \frac{nT}{U} \right)\)</span>, where <span class="math notranslate nohighlight">\(U\)</span> is the
interpolation factor of the multi-rate filter.</p></li>
<li><p>We will use the RRC pulse <span class="math notranslate nohighlight">\(p_{RRC}(t)\)</span> to perform pulse shaping.
Because the RRC pulse has an infinite support, we have to approximate
the ideal RRC pulse-shaping filter by using a truncated RRC pulse as
the impulse response <span class="math notranslate nohighlight">\(h[n]\)</span>.</p></li>
<li><p>In general, the closer is the excess bandwidth <span class="math notranslate nohighlight">\(\beta\)</span> to <span class="math notranslate nohighlight">\(0\)</span> a
longer <span class="math notranslate nohighlight">\(h[n]\)</span> is needed to accurately approximate the ideal RRC
pulse-shaping filter. In addition, the expression in <a class="reference internal" href="#equation-e-rrc">(6.6)</a> for
<span class="math notranslate nohighlight">\(p_{RRC}(t)\)</span> gives rise to a non-causal filter. Hence we need to delay
<span class="math notranslate nohighlight">\(p_{RRC}(t)\)</span> and then sample to obtain a causal <span class="math notranslate nohighlight">\(h[n]\)</span>. The usual
choice is to delay <span class="math notranslate nohighlight">\(p_{RRC}(t)\)</span> such that the peak of the RRC pulse
(at <span class="math notranslate nohighlight">\(t=0\)</span>) appears at the middle sample of <span class="math notranslate nohighlight">\(h[n]\)</span>. Remember this delay
in the impulse response will introduce a delay in the generated <span class="math notranslate nohighlight">\(x(t)\)</span>
by the same amount of time.</p></li>
<li><p>Let <span class="math notranslate nohighlight">\(f_s\)</span> be the sampling rate of the USRP. Since the passband of
the RRC pulse is from <span class="math notranslate nohighlight">\(-\frac{1+\beta}{2T}\)</span> to <span class="math notranslate nohighlight">\(\frac{1+\beta}{2T}\)</span>
Hz, the sampling theorem tells us that we must have
<span class="math notranslate nohighlight">\(f_s \geq \frac{1+\beta}{T}\)</span> or equivalently <span class="math notranslate nohighlight">\(\frac{1}{T} \leq
\frac{f_s}{1+\beta}\)</span> if we are to perfectly construct <span class="math notranslate nohighlight">\(x(t)\)</span> from the
output samples of the multi-rate filter. Thus we would want to set
<span class="math notranslate nohighlight">\(\frac{1}{T} = \frac{f_s}{1+\beta}\)</span> and choose <span class="math notranslate nohighlight">\(\beta\)</span> as close to <span class="math notranslate nohighlight">\(0\)</span>
as possible so that we can maximize the symbol rate. However, recall
that <span class="math notranslate nohighlight">\(h[n]\)</span> needs to be long when <span class="math notranslate nohighlight">\(\beta\)</span> is close to <span class="math notranslate nohighlight">\(0\)</span>. Moreover,
the upsampling and downsampling factors <span class="math notranslate nohighlight">\(U\)</span> and <span class="math notranslate nohighlight">\(D\)</span> are related to
<span class="math notranslate nohighlight">\(f_s\)</span> and the symbol rate <span class="math notranslate nohighlight">\(\frac{1}{T}\)</span> as <span class="math notranslate nohighlight">\(\frac{U}{D} = f_s T\)</span>.
Hence, we need to set <span class="math notranslate nohighlight">\(\frac{U}{D} = 1 + \beta\)</span>. This implies that we
will need to use larger integers for <span class="math notranslate nohighlight">\(U\)</span> and <span class="math notranslate nohighlight">\(D\)</span> to make <span class="math notranslate nohighlight">\(\beta\)</span> close
to <span class="math notranslate nohighlight">\(0\)</span>. Such large choices of <span class="math notranslate nohighlight">\(U\)</span> and <span class="math notranslate nohighlight">\(D\)</span> will undesirably increase
the complexity of the multi-rate filter.</p></li>
<li><p>Practically we would choose small integers <span class="math notranslate nohighlight">\(U &gt; D\)</span> such that
<span class="math notranslate nohighlight">\(\frac{U}{D} -1\)</span> is relatively small. Then we choose <span class="math notranslate nohighlight">\(\beta =
\frac{U}{D} -1\)</span> and <span class="math notranslate nohighlight">\(\frac{1}{T} = \frac{D}{U} f_s\)</span>. For examples:</p>
<ul class="simple">
<li><p>Choosing <span class="math notranslate nohighlight">\(U=4\)</span> and <span class="math notranslate nohighlight">\(D=3\)</span> gives <span class="math notranslate nohighlight">\(\beta = \frac{1}{3}\)</span> and achieves a symbol rate of <span class="math notranslate nohighlight">\(\frac{3}{4} f_s\)</span>.</p></li>
<li><p>Choosing <span class="math notranslate nohighlight">\(U=5\)</span> and <span class="math notranslate nohighlight">\(D=4\)</span> gives <span class="math notranslate nohighlight">\(\beta = \frac{1}{4}\)</span> and achieves a symbol rate of <span class="math notranslate nohighlight">\(\frac{4}{5} f_s\)</span>.</p></li>
<li><p>Choosing <span class="math notranslate nohighlight">\(U=8\)</span> and <span class="math notranslate nohighlight">\(D=7\)</span> gives <span class="math notranslate nohighlight">\(\beta = \frac{1}{7}\)</span> and achieves a symbol rate of <span class="math notranslate nohighlight">\(\frac{7}{8} f_s\)</span>.</p></li>
</ul>
</li>
<li><p>Below is a simple C++ function to generate the truncated RRC impulse response
based on the design above:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Generate a unit-energy truncated RRC impulse response for pulse shaping</span>
<span class="cm">    Assume D &lt;= U &lt;= 2*D</span>
<span class="cm">    This RRC pulse is sampled at U*symbol_rate.</span>
<span class="cm">    Excess bandwidth = U/D - 1</span>
<span class="cm">    sampling rate / symbol rate =  U/D</span>
<span class="cm">    Length of impulse response = 2*len+1</span>
<span class="cm">*/</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">rrc_pulse</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">complex</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;*</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">D</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="kt">float</span><span class="w"> </span><span class="n">beta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">float</span><span class="p">(</span><span class="n">U</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">D</span><span class="p">)</span><span class="o">/</span><span class="n">D</span><span class="p">;</span><span class="w"> </span><span class="c1">//roffoff factor</span>
<span class="w">    </span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="o">-</span><span class="n">beta</span><span class="o">+</span><span class="mf">4.0</span><span class="o">*</span><span class="n">beta</span><span class="o">/</span><span class="n">M_PI</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">norm</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="p">]);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;=</span><span class="n">len</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">U</span><span class="o">/</span><span class="n">beta</span><span class="o">/</span><span class="mf">4.0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">beta</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="mf">1.0</span><span class="o">+</span><span class="mf">2.0</span><span class="o">/</span><span class="n">M_PI</span><span class="p">)</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">M_PI</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">beta</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mf">1.0-2.0</span><span class="o">/</span><span class="n">M_PI</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">M_PI</span><span class="o">/</span><span class="mf">4.0</span><span class="o">/</span><span class="n">beta</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="o">+</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">M_PI</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">beta</span><span class="p">)</span><span class="o">/</span><span class="n">U</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">4.0</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">beta</span><span class="o">/</span><span class="n">U</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">M_PI</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">beta</span><span class="p">)</span><span class="o">/</span><span class="n">U</span><span class="p">))</span><span class="o">*</span><span class="n">U</span><span class="o">/</span><span class="n">n</span><span class="o">/</span><span class="n">M_PI</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0-16.0</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">n</span><span class="o">*</span><span class="n">beta</span><span class="o">*</span><span class="n">beta</span><span class="o">/</span><span class="n">U</span><span class="o">/</span><span class="n">U</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="o">-</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="o">+</span><span class="n">n</span><span class="p">];</span>
<span class="w">        </span><span class="n">scale</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">2.0</span><span class="o">*</span><span class="n">std</span><span class="o">::</span><span class="n">norm</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="n">len</span><span class="o">+</span><span class="n">n</span><span class="p">]);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">*</span><span class="n">len</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">n</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">h</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">/=</span><span class="w">  </span><span class="n">scale</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Remember the TX amplifier on the daughterboard of the USRP is
non-linear in the high-gain region. Nonlinearity of the amplifier will
introduce spurious emission outside the intended band. Therefore, the
TX amplifier gain should not be set to too high if linear operation is
required. By default the range of <span class="math notranslate nohighlight">\([-1.0, 1.0]\)</span> of the signal samples
corresponds to the full dynamic range of the DAC on the motherboard of
the USRP. Thus, linearity can be further assured by reducing the
maximum amplitude of the signal samples sent to the USRP.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./ch6"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="signal.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">6. </span>Signal Generation and Capture</p>
      </div>
    </a>
    <a class="right-next"
       href="capture.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">6.2. </span>RX Signal Capture</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#power-spectral-density-of-digitally-modulated-signal">6.1.1. Power spectral density of digitally modulated signal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#linear-modulation-and-pulse-shaping">6.1.2. Linear modulation and Pulse shaping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#root-raised-cosine-pulse">6.1.3. Root raised cosine pulse</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usrp-implementation">6.1.4. USRP implementation</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tan F. Wong
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      Â© Copyright 2016-2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>